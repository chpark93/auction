services:
  # --- Admin Service ---
  # Note: server-discovery and server-config are managed by docker-compose.infra.yml at the root
  # Make sure to run: docker compose -f ../docker-compose.infra.yml up -d first
  admin-service:
    build:
      context: .
    container_name: admin-service
    ports:
      - "8086:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=dev
      - EUREKA_CLIENT_SERVICEURL_DEFAULTZONE=http://server-discovery:8761/eureka/
      - CONFIG_SERVER_URL=http://server-config:8888
    networks:
      - default
      - auction_default

networks:
  auction_default:
    external: true
